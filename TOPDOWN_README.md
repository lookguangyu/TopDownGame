# 俯视角地下城游戏 (Topdown Dungeon Game)

## 游戏概述
这是一个基于原有2D平台游戏改造而成的俯视角地下城游戏。玩家控制一名骑士，在俯视角视角下探索地下城。

## 主要改造内容

### 1. 物理系统改造
- 移除了重力系统 (`gravity: {x: 0, y: 0}`)
- 改为8方向移动系统
- 支持对角线移动，速度标准化

### 2. 控制方式
- **方向键**: 上下左右移动
- **WASD键**: 同样支持8方向移动
- 移动时播放跑步动画，停止时播放待机动画

### 3. 角色系统
- 使用新的骑士精灵表 (`knight_idle_spritesheet.png`, `knight_run_spritesheet.png`)
- 16x16像素精灵，适合地下城主题
- 支持朝向翻转（左右移动时）

### 4. 武器系统
- 集成武器精灵表 (`weapons.png`)
- 主角装备第一行武器（手枪）
- 支持射击动画和冷却系统
- 武器跟随角色移动和朝向

### 5. 动画系统
- 待机动画: 4帧，8fps
- 跑步动画: 6帧，10fps
- 自动根据移动状态切换动画
- 武器射击动画: 4帧，12fps

### 6. 游戏机制调整
- 敌人碰撞直接造成伤害（不再有跳跃踩踏机制）
- 击退效果改为水平方向
- 相机跟随系统保持不变

## 文件结构

```
public/assets/knight/
├── knight_idle_spritesheet.png    # 骑士待机精灵表
└── knight_run_spritesheet.png     # 骑士跑步精灵表

public/assets/
└── weapons.png                    # 武器精灵表
```

## 运行游戏

```bash
cd 2DPlatformGame
npm install
npm run dev
```

## 控制说明

- **移动**: 方向键 或 WASD
- **射击**: 空格键
- **重启**: R键
- **目标**: 收集所有必需物品后到达终点

## 技术特点

- 基于Phaser 3框架
- TypeScript支持
- 模块化代码结构
- 动画管理器系统
- 碰撞检测系统

## 注意事项

- 游戏已从平台跳跃改为俯视角移动
- 保留了原有的收集物品和关卡完成机制
- 新的骑士精灵表已集成到现有动画系统中
